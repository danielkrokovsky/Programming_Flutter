
<!-- saved from url=(0049)http://localhost:8080/html/Cap%C3%ADtulo-028.html -->
<html xmlns="http://www.w3.org/1999/xhtml" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Flutter de programação</title>
  <link href="./Capítulo-028_files/bookshelf.css" rel="stylesheet" type="text/css">
  <link href="./Capítulo-028_files/book_local.css" rel="stylesheet" type="text/css">
  <meta content="urn:uuid:08781442-9212-4868-bf02-b4ef0fd56427" name="Adept.expected.resource">
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./Capítulo-028_files/translateelement.css"></head>

<body>

  <h2 id="sec.layout.slivers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slivers, roláveis ​​personalizados e barras de aplicativos recolhíveis</font></font></h2>

  <p id="d24e10092"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nós já cobrimos a maioria do que você precisa saber sobre widgets de rolagem como </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ListView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s e </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GridView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s, mas esta secção vai ser um mergulho mais profundo no mar de </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rolagem</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScrollView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s, </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverList</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s, e outro nível inferior, mais widgets personalizáveis. </font><font style="vertical-align: inherit;">Você também aprenderá como tornar a barra de aplicativos recolhível quando o usuário rolar para baixo.</font></font></p>

  <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como a flutuação determina até que ponto rolar</font></font></h3>

  <p id="d24e10112"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flutter, na verdade, simula a rolagem usando um </font><font style="vertical-align: inherit;">widget </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulation</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que simula o movimento de um ponto ao qual algumas forças estão sendo aplicadas em um espaço unidimensional, e o estado da simulação é usado para determinar a posição de rolagem. </font><font style="vertical-align: inherit;">Essas forças são alteradas dependendo do comportamento de rolagem desejado. </font><font style="vertical-align: inherit;">Isso é definido usando a </font><font style="vertical-align: inherit;">classe </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScrollPhysics</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que você pode usar para a </font><font style="vertical-align: inherit;">opção de </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">física</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>

  <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primário em um ScrollView</font></font></h4>

  <p id="d24e10130">
<span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primary</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é uma opção booleana que pode ser definida para </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScrollView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s. </font><font style="vertical-align: inherit;">Se for definido como </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">falso</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a exibição só rolará se houver filhos suficientes para exigir a rolagem.</font></font></p>

  <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faça uma barra dobrável de aplicativos</font></font></h3>

  <p id="d24e10148"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma visão comum em aplicativos roláveis ​​é uma barra de aplicativos recolhível: ela é especialmente visível em navegadores da web e, em outra variante, em algumas páginas de perfil de aplicativos de bate-papo.</font></font></p>

  <p id="d24e10151"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Normalmente, consiste no desaparecimento da barra de aplicativos quando o usuário rola para baixo e reaparece quando o usuário rola para cima, geralmente mesmo se o usuário não rolar para o topo da visualização rolável.</font></font></p>

  <p id="d24e10153"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">

Ele pode ser implementado usando um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CustomScrollView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que contém um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverAppBar</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverList</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou, alternativamente, um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverGrid</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></p>

  <p id="d24e10176"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverList</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é na verdade apenas um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ListView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que usa um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverChildDelegate</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para gerar seus filhos como você faria com </font></font><span class="cf methodname"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ListView.builder</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas com uma reviravolta importante: ele deve ser usado como parte de um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CustomScrollView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que é um tipo particular de widget que é usado para criar um widget rolável personalizado usando </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">slivers</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como </font><span class="cf class"><font style="vertical-align: inherit;">SliverList</font></span><font style="vertical-align: inherit;"> e </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverAppBar</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>

  <p id="d24e10204"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para construir um aplicativo com uma barra de aplicativos recolhível, você precisa de um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MaterialApp</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> normal </font><font style="vertical-align: inherit;">com um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scaffold</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p>

  <p id="d24e10212"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A diferença é que você não adicionará um </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppBar</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scaffold,</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mas apenas </font><span class="cf class"><font style="vertical-align: inherit;">usará</font></span><font style="vertical-align: inherit;"> sua </font><font style="vertical-align: inherit;">opção de </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">corpo</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e atribuirá a </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CustomScrollView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font></p>

  <table class="processedcode">

    <tbody><tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@sobrepor</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget </font></font><strong class="kw"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de construção</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (contexto BuildContext) {</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"></font><strong class="kw"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">retorno</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> andaime (</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    body: CustomScrollView (</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">      lascas: &lt;Widget&gt; [</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        SliverAppBar (</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">          Título: Texto ( </font></font><em class="string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"A AppBar dobrável"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ),</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        ),</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        SliverList (</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">          delegado: SliverChildBuilderDelegate (</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">            (contexto, i) =&gt; ListTile (título: Texto ( </font></font><em class="string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font></em><font style="vertical-align: inherit;"></font><em class="string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ i </font></font></em><font style="vertical-align: inherit;"></font><em class="string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ),),</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">          ),</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        ),</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">      ],</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    ),</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  );</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></td>
    </tr>

  </tbody></table>

  <p id="d24e10279"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este na verdade não fazer o que queremos, no entanto: a barra de aplicativo só reaparece quando o usuário rola para o topo da lista, mas esse não é o comportamento desejado, por isso precisamos definir o </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverAppBar</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‘s </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flutuante</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> opção de </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verdade</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para que ele reapareça quando o usuário rolar para cima em qualquer lugar da lista:</font></font></p>

  <table class="processedcode">

    <tbody><tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverAppBar (</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  Título: Texto ( </font></font><em class="string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"A AppBar dobrável"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ),</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  flutuante: </font></font><strong class="kw"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verdade</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">),</font></font></td>
    </tr>

  </tbody></table>

  <p id="d24e10307"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas este nem mesmo é completamente o comportamento desejado: queremos que o </font></font><span class="cf class"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverAppBar</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> apareça mesmo se </font><span class="cf class"><font style="vertical-align: inherit;">rolarmos</font></span><font style="vertical-align: inherit;"> parcialmente para cima, então também precisamos definir </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snap</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verdadeiro</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (o que só afeta qualquer coisa se </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flutuante</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> também estiver definido como </font></font><span class="cf ic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verdadeiro</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font></p>

  <table class="processedcode">

    <tbody><tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SliverAppBar (</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  Título: Texto ( </font></font><em class="string"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"A AppBar dobrável"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ),</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  flutuante: </font></font><strong class="kw"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verdade</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  Snap: </font></font><strong class="kw"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verdade</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
    </tr>

    <tr>
      <td class="codeinfo">​<span class="codeprefix">&nbsp;</span></td>
      <td class="codeline"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">),</font></font></td>
    </tr>

  </tbody></table><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./Capítulo-028_files/translate_24dp.png" width="20" height="20" alt="Google Tradutor"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Texto original</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Sugerir uma tradução melhor</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>



<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>